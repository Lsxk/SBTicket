<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.lsxk.sbticket.dao.QueryRecordDao">
    <!--为dao接口方法提供sql语句配置-->
    <insert id="insertRecord" parameterType="QueryRecord">
        INSERT INTO t_queryrecord (sour_id, dist_id, date, time, query_time)
        VALUES (#{sourId}, #{distId}, #{date}, #{time}, #{queryTime})
    </insert>

    <select id="queryRecord" resultType="QueryRecord">
        SELECT record_id, sour_id, dist_id, date, time, query_time
        FROM t_queryrecord
        WHERE sour_id = #{sourId} AND dist_id = #{distId} AND
              STR_TO_DATE(`date`,'%Y-%m-%d') BETWEEN #{startDate} AND #{endDate}
    </select>
</mapper>